<!DOCTYPE html>
<html lang="en">
<head>

  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

  <script type="text/javascript" src="//code.jquery.com/jquery-1.11.3.min.js"></script>
  <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

  <script type="text/javascript" src="lib/d3.min.js" charset="utf-8"></script>
  <script type="text/javascript" src="lib/metricsgraphics.min.js"></script>

  <link rel="stylesheet" href="lib/metricsgraphics.css">


  <style>
    .peity {
      display: block;
      margin-bottom: 20px;
    }
  </style>
</head>

<body>

  <div class="container">

    <br>
    <br>
    <br>

    <div id="scatter-graph"></div>
    

  </div>

<script type="text/javascript">


  $( document ).ready(function() {

    $.getJSON("scatter.json", function(data_list) {
      var data = data_list.map(function(i) {
        console.log(100*i[1]);
        return {'x': i[0], 'y': 100*i[1]};
      });
      MG.data_graphic({
        title: "Standardized Residuals",
        data: data,
        least_squares: true,
        chart_type: 'point',
        width: 435,
        height: 280,
        right: 40,
        left: 80,
        bottom: 50,
        target: '#scatter-graph',
        xax_format: function(f) {
            var pf = d3.formatPrefix(f);
            return Math.round(pf.scale(f)) + pf.symbol;
        },
        x_accessor: 'x',
        y_accessor: 'y',
        x_label: 'actual Sales',
        y_label: 'residual %'
      });
    });

  });


</script>

</body>
</html>
